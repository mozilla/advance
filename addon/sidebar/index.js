!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";r.d(t,"i",function(){return i}),r.d(t,"f",function(){return o}),r.d(t,"d",function(){return a}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return u}),r.d(t,"h",function(){return s}),r.d(t,"l",function(){return l}),r.d(t,"j",function(){return c}),r.d(t,"a",function(){return g}),r.d(t,"k",function(){return m}),r.d(t,"g",function(){return f}),r.d(t,"e",function(){return p});const n=!1;function i(e){n&&console.log(e)}function o(e){n&&console.error(e)}const a="https://laserlike.com",d=".laserlike.com",u={apiServer:"api_server_url",webServer:"web_server_url",extensionOrigin:"extension_origin",userID:"user_id",token:"token",compactMode:"compact_mode",paused:"paused",userDisplayName:"user_display_name",accountDeleted:"account_deleted",newTabUrl:"new_tab_url"},s="FOR_YOU",l={myWindowId:null,paused:!1,userId:0,authToken:"",isLoggingIn:!1,compactMode:!0,accountDeleted:!1,newTabUrl:void 0,API_SERVER:"https://feed.laserlike.com",WEB_SERVER:"https://feed.laserlike.com",activeTabs:{},focusedWindowId:-1,isStandalone:!1,extensionOrigin:void 0,userDisplayName:"",userEmail:"",emailConfirmed:!1,sendingEmailDigest:!1,relatedCards:[],forYouCards:[],currentUrl:void 0,originalUrl:void 0,baseUrl:void 0,previewCards:void 0,isDeletingAccount:!1},c={get login(){return`${l.API_SERVER}/auth/api/v1/login`},get updateEmail(){return`${l.API_SERVER}/auth/api/v1/update-email`},get emailValidate(){return`${l.API_SERVER}/auth/api/v1/email/validate`},get sendVerification(){return`${l.API_SERVER}/auth/api/v1/email/sendverification?verification_method=2`},get deleteAccount(){return`${l.API_SERVER}/auth/api/v1/delete-account`},get preferences(){return`${l.API_SERVER}/auth/api/v1/user/preferences`},get managePreferences(){return`${l.API_SERVER}/auth/api/v1/user/manage-preferences`},get log(){return`${l.API_SERVER}/logging/api/v1/log`},get trendfeed(){return`${l.API_SERVER}/searchlike/api/v1/trendfeed`},get related(){return`${l.API_SERVER}/searchlike/api/v1/related`},get profile(){return`${l.API_SERVER}/searchlike/api/v1/profile`},get getProfile(){return`${l.API_SERVER}/searchlike/api/v1/get_profile`},get defaultTab(){return`${l.WEB_SERVER}/`},get downloadData(){return`${l.API_SERVER}/account/data/download/`}},g={product_enum:"TrendsAndFriends",os_type:"extension"};function m(e){if(!e)return"";return(e=e.split("#")[0]).startsWith("about:reader?url=")?e=decodeURIComponent(e.slice("about:reader?url=".length)):(e.startsWith("about:")||e.startsWith("chrome:")||e.startsWith("chrome-extension:")||""===e)&&(e=s),e}const f={email:"Email Feedback",notInteresting:"Not Interesting",offTopic:"Off-Topic / Spam",block:"Block"};class p{constructor(e){const{card_id:t,position:r,url:n,orig_url:i,title:o,host:a,display_host:d,description:u,card_age_time_sec:s,article:l,feed_type:c,logging_tags:g}=e;this.card_id=t,this.position=r,this.url=n,this.orig_url=i,this.title=o,this.host=d||a,this.description=u,this.card_age_time_sec=s,this.image_url=l?l.image_url:void 0,this.feed_type=c,this.logging_tags=g,this.sentFeedback=void 0}get elementId(){return`card-${this.card_id}`}get unoElementId(){return`undo-${this.card_id}`}get emailBody(){return`{\n      userId: ${l.userId},\n      display_name: ${l.userDisplayName}\n      email: ${l.userEmail}\n      card:\n      { card_id: ${this.card_id},\n        position: ${this.position},\n        url: "${this.url}",\n        orig_url: "${this.orig_url}",\n        host: ${this.host},\n        card_age_time_sec: ${this.card_age_time_sec},\n        image_url: "${this.image_url}",\n      },\n    }`}get length(){return JSON.stringify(this).length}}},,,function(e,t,r){"use strict";r.r(t);var n,i,o,a,d,u=r(0);function s(e){"homePageChanged"!==e.method&&"loggedOut"!==e.method&&"loggedIn"!==e.method&&"pauseStateChanged"!==e.method?"mapOfOpenWindow"!==e.method?"newUrl"===e.method&&(e.normalizedUrl===u.h?l(e):(Object(u.i)(`${o} got url: ${e.url} ${e.normalizedUrl} myRoot: ${a}`),c(a).then(t=>{const r=Object(u.k)(t.url);Object(u.i)(`${o} current url: ${r}`),e.normalizedUrl===r&&(r===u.h&&(e.clearRelated=!0),l(e))}))):e.sideId===a&&(Object(u.i)(`${o} update my main window to: ${e.mainId}`),a=e.mainId):l(e)}function l(e){if(!i){Object(u.i)(`push to iframe: ${JSON.stringify(e)}`);let t=`${u.l.WEB_SERVER}${o}`;const r=document.querySelector("#panel");r.style.display="block";const a=document.createElement("iframe");a.src=`${t}`,n=new Promise(function(e){a.onload=e}),r.appendChild(a),i=a.contentWindow,Object(u.i)(`append iframe src: ${t}`)}Object(u.i)(`${o} posting to iframe: ${JSON.stringify(e)}`),n.then(()=>i.postMessage(e,u.l.WEB_SERVER))}function c(e){let t={windowId:e||browser.windows.WINDOW_ID_CURRENT,active:!0};return browser.tabs.query(t).then(e=>{if(e&&!(e.length<1))return e[0]})}window.onload=(()=>(d="/sidebar",Object(u.i)(`init iframe: ${d}`),o=d,browser.runtime.onMessage.addListener(s),browser.cookies.get({url:u.d,name:u.c.webServer}).then(e=>{e&&(u.l.WEB_SERVER=e.value)}),void c().then(e=>{a=e.windowId,browser.runtime.sendMessage({method:"iframeActive",windowId:e.windowId,url:e.url,uiElement:o}),setInterval(()=>{browser.runtime.sendMessage({method:"iframeAlive",windowId:e.windowId,uiElement:o})},1e3)})))}]);